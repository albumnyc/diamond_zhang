<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            function jsonp(req) {
                //window[callback]=callback;
                var script = document.createElement("script");
                var url= req.url + "?callback=" + req.callback.name;
                script.src=url;
                document.getElementsByTagName("head")[0].appendChild(script);
            }
            //自定义回调函数
            function miss(res) {
                alert("miss " + res.data);
            }
            window.miss = miss;


            setTimeout(() => {
                jsonp({
                    url: "http://localhost:8080/",
                    callback: miss,
                });
            }, 1000);
        </script>
    </body>
</html>
